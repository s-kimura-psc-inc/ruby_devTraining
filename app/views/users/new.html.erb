<div class="row">
  <div class="section">
    <h4>ユーザ新規登録</h4>
  </div>


  <div id="flash-error">
    <% flash.each do |name, message| %>
      <p class="card <%= name %>"><%= message %></p>
    <% end %>
  </div>

  <%= form_for(@user, html: { class: 'fixed-form' }) do |f| %>
    <% if @user.errors.any? %>
      <div id="validation-errors" class="card">
        <div id="validation-error-title"><%= @user.errors.count %> 件のエラーが発生しました</div>
        <div id="validation-error-content">
          <ul>
            <% @user.errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      </div>
    <% end %>

    <div class="row">
      <div class="card-panel">
        <table>
          <tr>
            <th><%= f.label :login, 'ユーザID' %><span class="required">（必須）</span></th>
            <td>
              <%= f.text_field :login, 'data-length': 20, maxlength: 20 %>
              <span class="caution">半角英数20文字以下を入力</span>
            </td>
          </tr>
          <tr>
            <th><%= f.label :user_nm, 'ユーザ名' %></th>
            <td><%= f.text_field :user_nm, 'data-length': 50, maxlength: 50 %></td>
          </tr>
          <tr>
            <th><%= f.label :authority_level, '権限' %><span class="required">（必須）</span></th>
            <td>
              <span class="auth-level-radio-button">
                <%= f.radio_button :authority_level, '1' %>
                <%= f.label :authority_level, '一般ユーザ', value: '1' %>
              </span>
              <span class="auth-level-radio-button">
                <%= f.radio_button :authority_level, '2' %>
                <%= f.label :authority_level, '管理者', value: '2' %>
              </span>
            </td>
          </tr>
          <tr>
            <th><%= f.label :password, 'パスワード' %><span class="required">（必須）</span></th>
            <td>
              <%= f.password_field :password, 'data-length': 20, maxlength: 20 %>
              <span class="caution">半角英数8文字以上20文字以下を入力</span>
            </td>
          </tr>
          <tr>
            <th><%= f.label :password_confirmation, 'パスワード確認' %><span class="required">（必須）</span></th>
            <td><%= f.password_field :password_confirmation, 'data-length': 20, maxlength: 20 %></td>
          </tr>
        </table>
        <br>
        <div class="footer-button">
          <button type="submit" name="action" class="btn waves-effect waves-light" tabindex="-1">登録</button>
        </div>
      </div>
      <div class="footer-button">
        <%= link_to "戻る", users_path, class:"btn btn-default", style:"width:150px;display:block;margin:auto" %>
      </div>
    </div>
  <% end %>
</div>
